{namespace a=AgoraTeam\Agora\ViewHelpers}

<ul class="breadcrumb">
    <li>
        <f:link.action action="list" controller="Forum">
            Start
        </f:link.action>
    </li>
    <f:if condition="{thread}">
        <f:then>
            <f:for each="{thread.forum.rootline}" as="forumRootlineItem">
                <li>
                    <f:link.action action="list" controller="Thread" arguments="{forum:forumRootlineItem}">
                        {forumRootlineItem.title}
                    </f:link.action>
                </li>
            </f:for>
            <li>
                <f:link.action action="list" controller="Post" arguments="{thread:thread}">
                    <f:if condition="{thread.closed}">
                        <i class="glyphicon glyphicon-lock"></i>
                    </f:if>
                    <f:if condition="{thread.solved}">
                        <i class="glyphicon glyphicon-flag"></i>
                    </f:if>
                    <f:if condition="{thread.sticky}">
                        <i class="glyphicon glyphicon-pushpin"></i>
                    </f:if>
                    {thread.title}
                </f:link.action>
            </li>
        </f:then>
        <f:else>
            <f:for each="{forum.rootline}" as="forumRootlineItem">
                <li>
                    <f:link.action action="list" controller="Thread" arguments="{forum:forumRootlineItem}">
                        {forumRootlineItem.title}
                    </f:link.action>
                </li>
            </f:for>
        </f:else>
    </f:if>
</ul>

<f:if condition="{thread}">
    <f:then>
        <h2>{thread.forum.title}</h2>
        <h3>
            <f:if condition="{thread.closed}">
                <i class="glyphicon glyphicon-lock"></i>
            </f:if>
            <f:if condition="{thread.solved}">
                <i class="glyphicon glyphicon-flag"></i>
            </f:if>
            <f:if condition="{thread.sticky}">
                <i class="glyphicon glyphicon-pushpin"></i>
            </f:if>
            {thread.title}
        </h3>
    </f:then>
    <f:else>
        <h2>{forum.title}</h2>
    </f:else>
</f:if>

<f:if condition="{thread.tags}">
    <ul class="tags">
        <f:for each="{thread.tags}" as="tag">
            <li>{tag.title}</li>
        </f:for>
    </ul>
</f:if>
